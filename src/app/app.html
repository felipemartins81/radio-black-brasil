<ion-menu [content]="content">
   <ion-header>
      <ion-toolbar>
      <ion-title>Menu</ion-title>
      </ion-toolbar>
   </ion-header>
   <ion-content>
      <ion-list>
      <button menuClose ion-item *ngFor="let p of pages" (click)="openPage(p)">
         {{p.title}}
      </button>
      </ion-list>
   </ion-content>
</ion-menu>

<!-- Disable swipe-to-go-back because it's poor UX to combine STGB with side menus -->
<ion-nav [root]="rootPage" #content swipeBackEnabled="false"></ion-nav>

<ion-footer>
   <ion-toolbar>
      <ion-grid>
      <ion-row justify-content-between>
         <!-- prev -->
         <ion-col col-4 offset-1 class="txt-center" *ngIf="smPlayerMode === 'controls'">
            <a (click)="smPlay('prev')">
               <i class="fa fa-angle-left fa-4x"></i>
            </a>
         </ion-col>
         <!-- play / pause -->
         <div *ngIf="smWaiting; then tplLoading else tplPlayPause"></div>
         <ng-template #tplLoading>
            <ion-col col-1 class="txt-center">
               <a><i class="fa fa-spinner fa-pulse fa-fw fa-4x"></i></a>
            </ion-col>
         </ng-template>
         <ng-template #tplPlayPause>
            <ion-col col-1 class="txt-center">
               <a (click)="smPlay('self')">
                  <i class="fa fa-{{ smPlaying ? 'pause' : 'play' }}-circle fa-4x"></i>
               </a>
            </ion-col>
         </ng-template>
         <!-- Track info -->
         <ion-col *ngIf="smPlayerMode === 'info'" col-10>
            <p class="txt-bold">{{ smActualTrack ? smActualTrack.artist : '' }}</p>
            <p>{{ smActualTrack ? smActualTrack.title : '' }}</p>
         </ion-col>
         <!-- next -->
         <ion-col *ngIf="smPlayerMode === 'controls'" col-4 class="txt-center">
            <a (click)="smPlay('next')">
               <i class="fa fa-angle-right fa-4x"></i>
            </a>
         </ion-col>
         <!-- change player mode -->
         <ion-col col-1 class="txt-center">
            <div *ngIf="smPlayerMode === 'controls'; then tplPlayerModeOn else tplPlayerModeOff"></div>
            <ng-template #tplPlayerModeOn>
               <a (click)="smChangePlayerMode()">
                  <i class="fa fa-toggle-on fa-2x"></i>
               </a>
            </ng-template>
            <ng-template #tplPlayerModeOff>
               <a (click)="smChangePlayerMode()">
                  <i class="fa fa-toggle-off fa-2x"></i>
               </a>
            </ng-template>
         </ion-col>
      </ion-row>
      </ion-grid>
   </ion-toolbar>
</ion-footer>